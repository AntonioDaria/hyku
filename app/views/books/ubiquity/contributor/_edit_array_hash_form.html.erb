

<% array_of_hash.each_with_index do |hash, index| %>

<div class="ubiquity-meta-contributor" >

   <label class="ubiquity_contributor_name_type control-label multi_value optional" for="book_contributor_name_type">
      Contributor name type</label>

     <%= select_tag "book[contributor_group][][contributor_name_type]",
       content_tag(:option,'select one...',:value=>"")+options_from_collection_for_select( NameTypeService.new.select_active_options.flatten.uniq!, :to_s, :to_s, hash.dig("contributor_name_type")),
       class: 'ubiquity_contributor_name_type'%>
   <br>
   <label class="control-label multi_value optional" for="book_contributor_isni">Contributor isni</label>

     <%= text_field_tag "book[contributor_group][][contributor_isni]", hash.dig("contributor_isni"),
                     class: "book_contributor_group form-control multi-text-field multi_value",
                     name: "book[contributor_group][][contributor_isni]"
     %>
   <br>
    <label class="ubiquity_contributor_organization_name control-label multi_value optional" for="book_contributor_organization_name">
    Contributor organization name</label>

    <%= text_field_tag "book[contributor_group][][contributor_organization_name]", hash.dig("contributor_organization_name"),
                     class: "ubiquity_contributor_organization_name book_contributor_organization_name form-control multi-text-field multi_value",
                     placeholder: 'Add contributor organization name',
                     name: "book[contributor_group][][contributor_organization_name]"
    %>
    <br>
    <label class="control-label multi_value optional" for="book_contributor_type">Contributor type</label>

    <%= select_tag "book[contributor_group][][contributor_type]",
         content_tag(:option,'select one...',:value=>"")+options_from_collection_for_select( ContributorGroupService.new.select_active_options.flatten.uniq!, :to_s, :to_s, hash.dig("contributor_type"))
    %>

    <br/>
    <span class="ubiquity_personal_fields">
      <label class="control-label multi_value optional" for="book_contributor_given_name">
        Contributor given name </label>

      <%= text_field_tag "book[contributor_group][][contributor_given_name]", hash.dig("contributor_given_name"),
                         class: "book_contributor_group form-control multi-text-field multi_value",
                         name: "book[contributor_group][][contributor_given_name]"

      %>

      <br>
      <label class="control-label multi_value optional" for="book_contributor_family">
        Contributor family name</label>


      <%= text_field_tag "book[contributor_group][][contributor_family_name]", hash.dig("contributor_family_name"),
                         class: "book_contributor_group form-control multi-text-field multi_value",
                         name: "book[contributor_group][][contributor_family_name]"

      %>

      <br>

      <label class="control-label multi_value optional" for="book_contributor_orcid">
        Contributor orcid</label>

      <%= text_field_tag "book[contributor_group][][contributor_orcid]", hash.dig("contributor_orcid"),
                         class: "book_contributor_group form-control multi-text-field multi_value",
                         name: "book[contributor_group][][contributor_orcid]"
      %>
    </span>


    <%= hidden_field_tag "book[contributor_group][][contributor_position]", index, class: 'ubiquity-contributor-score' %>
      <br>
      <a href="#" style="color:red;"  class=" remove_contributor form-group " data-removeUbiquityContributor=".ubiquity-meta-contributor">
        <span class="glyphicon glyphicon-remove"></span>
        <span class="controls-remove-text">Remove</span>
      </a>
      |

      <a href="#" class=" add_contributor" data-addUbiquityContributor=".ubiquity-meta-contributor">Add another </a>

      <br> <br>

</div>

<% end %>
