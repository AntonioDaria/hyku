
<div class="ubiquity-meta-creator" >

  <% hash.each do |key, value| %>
    <% if key == 'creator_name_type' %>

      <label class="ubiquity_creator_name_type control-label multi_value optional" for="book_creator_name_type">
        Creator name type</label>

      <%= select_tag "book[creator_group][][creator_name_type]",
                     content_tag(:option,'select one...',:value=>"")+options_from_collection_for_select( NameTypeService.new.select_active_options.flatten.uniq!, :to_s, :to_s, hash.dig("creator_name_type")),
                     required: true, class: 'ubiquity_creator_name_type'
      %>

    <% end %>

    <% if key == 'creator_isni' %>
      <label class="control-label multi_value optional" for="book_creator_isni">
        Creator isni</label>

      <%= text_field_tag "book[creator_group][][creator_isni]", hash.dig("creator_orcid"),
                         class: "book_creator_group form-control multi-text-field multi_value",
                         name: "book[creator_group][][creator_isni]"
      %>

    <% end %>

    <% if key == 'creator_organization_name' %>
      <label class="ubiquity_creator_organization_name control-label multi_value optional" for="book_creator_organization_name">
        Creator organization name</label>

      <%= text_field_tag "book[creator_group][][creator_organization_name]",
                       class: "ubiquity_creator_organization_name book_creator_organization_name form-control multi-text-field multi_value",
                       placeholder: 'Add creator organization name',
                       name: "book[creator_group][][creator_organization_name]"
      %>

    <% end %>

    <span class="ubiquity_personal_fields">
      <% if key == 'creator_given_name' %>
        <label class="control-label multi_value optional" for="book_creator_given_name">
          Creator given name</label>

        <%= text_field_tag "book[creator_group][][creator_given_name]", hash.dig("creator_given_name"),
                           class: "book_creator_group form-control multi-text-field multi_value",
                           name: "book[creator_group][][creator_given_name]"
        %>
      <% end %>

      <% if key == 'creator_family_name' %>
        <label class="control-label multi_value optional" for="book_creator_family_name">
          creator family name</label>

        <%= text_field_tag "book[creator_group][][creator_family_name]",  hash.dig("creator_family_name"),
                           class: "book_creator_group form-control multi-text-field multi_value",
                           name: "book[creator_group][][creator_family_name]"
        %>

      <% end %>

      <% if key == 'creator_orcid' %>
        <p>
        <label class="control-label multi_value optional" for="book_creator_orcid">
          Creator orcid</label>

        <%= text_field_tag "book[creator_group][][creator_orcid]", hash.dig("creator_orcid"),
                           class: "book_creator_group form-control multi-text-field multi_value",
                           name: "book[creator_group][][creator_orcid]"
        %>
        </p>
      <% end %>
    </span>

      <% if key == 'creator_position' %>
        <%= hidden_field_tag "book[creator_group][][creator_position]", hash.dig("creator_position"), class: 'ubiquity-creator-score'  %>
      <% end %>

    <% end %>

    <a href="#" style="color:red;"  class=" remove_creator form-group " data-removeUbiquityCreator=".ubiquity-meta-creator">
      <span class="glyphicon glyphicon-remove"></span>
      <span class="controls-remove-text">Remove</span>
    </a>
    |

    <a href="#" class=" add_creator" data-addUbiquityCreator=".ubiquity-meta-creator">Add another </a>

    <br/>

</div>
